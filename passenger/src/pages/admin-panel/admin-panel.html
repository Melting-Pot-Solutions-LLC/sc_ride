<ion-header>

  <ion-navbar color="primary">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Admin Panel</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
	<ion-searchbar *ngIf="loadedDrivers && loadedDrivers.length" (ionInput)="getItems($event)"></ion-searchbar>
	<ion-list *ngFor="let driver of drivers; let i = index;">
		<ion-item-divider *ngIf="!drivers[i-1] || (driver.status != drivers[i-1].status)">
    	{{ driver.status | uppercase }}
  	</ion-item-divider>
	  <ion-item-sliding #slidingItem>
	    <button ion-item detail-none (click)="openStatistics(driver.$key)">
	      <ion-avatar item-start>
	        <img src="{{ driver?.photoURL }}" onError="this.src='assets/img/ionic.png';">
	      </ion-avatar>
		    <h2>{{ driver.name }}</h2>
		    <p>{{ driver.plate || 'Plate' }} &middot; {{ driver.brand || 'Brand' }}</p>
	    </button>
	    <ion-item-options side="right">
	      <button (click)="authorizeDriver(slidingItem, driver.$key)" *ngIf="driver.status == statuses[0]" ion-button color="favorite">
	        Authorize
	      </button>
	      <button (click)="declineDriver(slidingItem, driver.$key)" *ngIf="driver.status == statuses[1]" ion-button color="primary">
	        Decline
	      </button>
	      <button (click)="acceptDriver(slidingItem, driver.$key)" *ngIf="driver.status == statuses[2]" ion-button color="favorite">
	        Accept
	      </button>
	    </ion-item-options>
	  </ion-item-sliding>
	</ion-list>
	<p *ngIf="loadedDrivers && loadedDrivers.length && drivers && !drivers.length">Not found.</p>
	<p *ngIf="loadedDrivers && !loadedDrivers.length">No data.</p>
</ion-content>