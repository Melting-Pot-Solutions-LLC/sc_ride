{"version":3,"sources":["../../src/pages/login/login.ts","../../src/pages/card-setting/card-setting.ts","../../src/pages/chat/chat.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/services/trip-service.ts","../../src/pages/register/register.ts","../../src/pages/places/places.ts","../../src/pages/map/map.ts","../../src/services/auth-service.ts","../../src/pages/payment-method/payment-method.ts","../../src/pages/finding/finding.ts","../../src/pages/driver/driver.ts","../../src/pages/tracking/tracking.ts","../../src/pages/modal-rating/modal-rating.ts","../../src/services/deal-service.ts","../../src/services/setting-service.ts","../../src/pages/notification/notification.ts","../../src/services/notification-service.ts","../../src/pages/support/support.ts","../../src/pages/trips/trips.ts","../../src/pages/trip-detail/trip-detail.ts","../../src/pages/user/user.ts","../../src/pages/chat-history/chat-history.ts","../../src/pages/home/home.ts","../../src/services/driver-service.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/services/place.ts","../../src/services/mock-notifications.ts","../../node_modules/moment/locale ^/.//.*$","../../src/pages/profile/profile.ts","../../src/services/place-service.ts","../../src/services/constants.ts","../../src/services/chat-service.ts"],"names":[],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wB;;;;;;;;;;;;;;;;;;;;AC9P0C;AACI;AAE9C;;;;;GAKG;AAKH;IACE,qBAAmB,GAAkB;QAAlB,QAAG,GAAH,GAAG,CAAe;IACrC,CAAC;IAFU,WAAW;QAJvB,gEAAS,CAAC;YACT,QAAQ,EAAE,cAAc;WACG;SAC5B,CAAC;oBAEqC;OAD1B,WAAW,CAGvB;IAAD,CAAC;AAAA;SAHY,WAAW,e;;;;;;;;;;;;;;;;;;;;;;;ACbmB;AACN;AACI;AAEX;AAG9B;IAKE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","file":"main.js","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController, AlertController, LoadingController } from 'ionic-angular';\nimport { RegisterPage } from '../register/register';\nimport { HomePage } from '../home/home'\nimport { AuthService } from \"../../services/auth-service\";\n\n/*\n Generated class for the LoginPage page.\n\n See http://ionicframework.com/docs/v2/components/#navigation for more info on\n Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html'\n})\nexport class LoginPage {\n  email: any;\n  password: any;\n\n  constructor(public nav: NavController, public authService: AuthService, public alertCtrl: AlertController,\n              public loadingCtrl: LoadingController) {\n  }\n\n  signup() {\n    this.nav.setRoot(RegisterPage);\n  }\n\n  login() {\n    // require email and password\n    if (!this.email || !this.password) {\n      let alert = this.alertCtrl.create({\n        message: 'Please provide email and password',\n        buttons: ['OK']\n      });\n      return alert.present();\n    }\n\n    let loading = this.loadingCtrl.create({\n      content: 'Please wait...'\n    });\n    loading.present();\n\n    this.authService.login(this.email, this.password).then(authData => {\n      loading.dismiss();\n      this.nav.setRoot(HomePage);\n    }, error => {\n      // in case of login error\n      loading.dismiss();\n      let alert = this.alertCtrl.create({\n        message: error.message,\n        buttons: ['OK']\n      });\n      alert.present();\n    });\n  }\n\n  // login with facebook\n  loginWithFacebook() {\n    this.authService.loginWithFacebook().subscribe(authData => {\n      this.nav.setRoot(HomePage);\n    }, error => {\n      // in case of login error\n      let alert = this.alertCtrl.create({\n        message: error.message,\n        buttons: ['OK']\n      });\n      alert.present();\n    });\n  }\n\n  // login with google\n  loginWithGoogle() {\n    this.authService.loginWithGoogle().subscribe(authData => {\n      this.nav.setRoot(HomePage);\n    }, error => {\n      // in case of login error\n      let alert = this.alertCtrl.create({\n        message: error.message,\n        buttons: ['OK']\n      });\n      alert.present();\n    });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import {Component} from '@angular/core';\nimport { NavController, ToastController, AlertController, LoadingController, NavParams } from 'ionic-angular';\n\nimport {AuthService} from '../../services/auth-service';\nimport { HomePage } from \"../home/home\";\ndeclare var Stripe: any;\n/*\n  Generated class for the LoginPage page.\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n  Ionic pages and navigation.\n*/\n@Component({\n  selector: 'page-card-setting',\n  templateUrl: 'card-setting.html',\n})\nexport class CardSettingPage {\n  number: any;\n  exp: any;\n  cvv: any;\n\n  constructor(public nav: NavController, public authService: AuthService, public toastCtrl: ToastController,\n              public alertCtrl: AlertController, public loadingCtrl: LoadingController, public navParams: NavParams) {\n    authService.getCardSetting().take(1).subscribe(snapshot => {\n      this.number = snapshot.number;\n      this.exp = snapshot.exp;\n      this.cvv = snapshot.cvv;\n    });\n  }\n\n  // save card settings\n  save() {\n    const exp = this.exp.split('/');\n    const loading = this.loadingCtrl.create({\n      content: 'Please wait...'\n    });\n    loading.present();\n\n    Stripe.card.createToken({\n      number: this.number,\n      exp_month: exp[0],\n      exp_year: exp[1],\n      cvc: this.cvv\n    }, (status: number, response: any) => {\n      loading.dismiss();\n      // success\n      if (status == 200) {\n        // if nav from payment method selection\n        if (this.navParams.get('back')) {\n          this.nav.pop();\n        } else {\n          this.nav.setRoot(HomePage);\n        }\n\n        this.authService.updateCardSetting(this.number, this.exp, this.cvv, response.id);\n        let toast = this.toastCtrl.create({\n          message: 'Your card setting has been updated',\n          duration: 3000,\n          position: 'middle'\n        });\n        toast.present();\n      } else {\n        // error\n        let alert = this.alertCtrl.create({\n          title: 'Error',\n          subTitle: response.error.message,\n          buttons: ['OK']\n        });\n        alert.present();\n      }\n    });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/card-setting/card-setting.ts","import { Component, ViewChild } from '@angular/core';\nimport { NavController, NavParams, ActionSheetController } from 'ionic-angular';\nimport { ChatService } from '../../services/chat-service';\nimport { DriverService } from '../../services/driver-service';\nimport { Camera } from '@ionic-native/camera';\nimport { Keyboard } from '@ionic-native/keyboard';\nimport * as firebase from 'firebase';\n\n@Component({\n  selector: 'page-chat',\n  templateUrl: 'chat.html'\n})\n\nexport class ChatPage {\n  messages: Array<any>;\n  readMessagesSubscription: any;\n  getMessagesSubscription: any;\n  checkTypingMessageStatusSubscription: any;\n  getDriverSubscription: any;\n  onKeyboardShowSubscription: any;\n  onKeyboardHideSubscription: any;\n  messageText: any;\n  driverId: any;\n  driver: any;\n  keydownTimeout: any = null;\n  isTyping: boolean;\n\n  @ViewChild('content') content: any;\n\n  constructor(\n    public nav: NavController,\n    public navParams: NavParams,\n    public chatService: ChatService,\n    public driverService: DriverService,\n    public actionSheetCtrl: ActionSheetController,\n    private camera: Camera,\n    private keyboard: Keyboard\n  ) {\n    this.driverId = navParams.get('driverId');\n    this.readMessagesSubscription = this.chatService.readMessages(this.driverId);\n    this.getMessagesSubscription = this.chatService.getMessages(this.driverId).subscribe(snapshot => {\n      this.messages = snapshot;\n      this.contentScrollToBottom();\n    });\n    this.getDriverSubscription = this.driverService.getDriver(this.driverId).subscribe(snapshot => {\n      this.driver = snapshot;      \n    });\n    this.checkTypingMessageStatusSubscription = this.chatService.checkTypingMessageStatus(this.driverId).subscribe(snapshot => {\n      this.isTyping = snapshot;\n      this.contentScrollToBottom();\n    });\n    this.onKeyboardShowSubscription = this.keyboard.onKeyboardShow().subscribe(() => {\n      this.contentScrollToBottom();\n    });\n    this.onKeyboardHideSubscription = this.keyboard.onKeyboardHide().subscribe(() => {\n      this.contentScrollToBottom();\n    })\n  }\n\n  ionViewDidEnter() {\n    this.contentScrollToBottom();\n  }\n\n\n  ionViewWillLeave() {\n    this.readMessagesSubscription.unsubscribe();\n    this.getMessagesSubscription.unsubscribe();\n    this.getDriverSubscription.unsubscribe();\n    this.checkTypingMessageStatusSubscription.unsubscribe();\n    this.onKeyboardShowSubscription.unsubscribe();\n    this.onKeyboardHideSubscription.unsubscribe();\n  }\n\n  contentScrollToBottom() {\n    setTimeout(() => {\n      this.content.scrollToBottom(false);\n    })\n  }\n\n  doRefresh(refresher) {\n    this.chatService.getMessages(this.driverId, this.messages.length).take(1).subscribe(snapshot => {\n      this.messages = snapshot.concat(this.messages);\n      refresher.complete();\n      setTimeout(() => {\n        this.content.scrollToTop(false);\n      })\n    })\n  }\n\n  keyDownText(event) {\n    if (this.keydownTimeout)\n      clearTimeout(this.keydownTimeout)\n    else this.chatService.startTypingMessage(this.driverId);\n    this.keydownTimeout = setTimeout(() => {\n      this.keydownTimeout = null;\n      this.chatService.stopTypingMessage(this.driverId);\n    }, 5000);\n  }\n\n  sendMessage() {\n    this.chatService.sendMessage(this.driverId, this.messageText);\n    this.messageText = '';\n  }\n\n  saveImageToFirebase(base64string): firebase.Promise<any> {\n    let ref = firebase.storage().ref().child('/messages/' + Date.now() + '_image.png');\n    return ref.putString(base64string, 'data_url');\n  }\n\n  sendImage() {\n    let actionSheet = this.actionSheetCtrl.create({\n      title: 'Upload image',\n      buttons: [\n        {\n          text: 'Take Photo',\n          handler: () => {\n            this.camera.getPicture({\n              destinationType: this.camera.DestinationType.DATA_URL,\n              sourceType: this.camera.PictureSourceType.CAMERA,\n              encodingType: this.camera.EncodingType.PNG\n            }).then((imageData) => {\n              this.saveImageToFirebase('data:image/png;base64,' + imageData).then((snapshot) => {\n                this.chatService.sendMessage(this.driverId, \"<img src='\"+snapshot.downloadURL+\"'>\");\n              }, (error) => {\n                console.log(error);\n              })\n            }, (error) => {\n              console.log(error);\n            })\n          }\n        }, {\n          text: 'Photo from Library',\n          handler: () => {\n            this.camera.getPicture({\n              destinationType: this.camera.DestinationType.DATA_URL,\n              sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n              encodingType: this.camera.EncodingType.PNG\n            }).then((imageData) => {\n              this.saveImageToFirebase('data:image/png;base64,' + imageData).then((snapshot) => {\n                this.chatService.sendMessage(this.driverId, \"<img src='\"+snapshot.downloadURL+\"'>\");\n              }, (error) => {\n                console.log(error);\n              })\n            }, (error) => {\n              console.log(error);\n            })\n          }\n        }, {\n          text: 'Cancel',\n          role: 'cancel'\n        }\n      ]\n    });\n    actionSheet.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat/chat.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 139;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 139\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 180;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 180\n// module chunks = 0","import { Injectable } from \"@angular/core\";\nimport { AngularFireDatabase } from \"angularfire2/database/database\";\nimport { Place } from \"./place\";\nimport { AuthService } from \"./auth-service\";\n\n@Injectable()\nexport class TripService {\n  private id: any;\n  private trips: any;\n  private currency: string;\n  private origin: any;\n  private destination: any;\n  private distance: number;\n  private fee: number;\n  private note: string;\n  private paymentMethod: any = 'cash';\n  private vehicle: any;\n  // vehicle's icon\n  private icon: any;\n  private availableDrivers: Array<any> = [];\n\n  constructor(public db: AngularFireDatabase, public authService: AuthService) {\n\n  }\n\n  getAll() {\n    return this.trips;\n  }\n\n  setId(id) {\n    return this.id = id;\n  }\n\n  getId() {\n    return this.id;\n  }\n\n  setCurrency(currency) {\n    return this.currency = currency;\n  }\n\n  getCurrency() {\n    return this.currency;\n  }\n\n  setOrigin(vicinity, lat, lng) {\n    let place = new Place(vicinity, lat, lng);\n    return this.origin = place.getFormatted();\n  }\n\n  getOrigin() {\n    return this.origin;\n  }\n\n  setDestination(vicinity, lat, lng) {\n    let place = new Place(vicinity, lat, lng);\n    return this.destination = place.getFormatted();\n  }\n\n  getDestination() {\n    return this.destination\n  }\n\n  setDistance(distance) {\n    return this.distance = distance;\n  }\n\n  getDistance() {\n    return this.distance;\n  }\n\n  setFee(fee) {\n    return this.fee = fee;\n  }\n\n  getFee() {\n    return this.fee;\n  }\n\n  setNote(note) {\n    return this.note = note;\n  }\n\n  getNote() {\n    return this.note;\n  }\n\n  setPaymentMethod(method) {\n    return this.paymentMethod = method;\n  }\n\n  getPaymentMethod() {\n    return this.paymentMethod;\n  }\n\n  setVehicle(vehicle) {\n    return this.vehicle = vehicle;\n  }\n\n  getVehicle() {\n    return this.vehicle;\n  }\n\n  setIcon(icon) {\n    return this.icon = icon;\n  }\n\n  getIcon() {\n    return this.icon;\n  }\n\n  setAvailableDrivers(vehicles) {\n    console.log(vehicles);\n    this.availableDrivers = vehicles;\n  }\n\n  getAvailableDrivers() {\n    return this.availableDrivers;\n  }\n\n  getTrip(id) {\n    return this.db.object('trips/' + id);\n  }\n\n  getTrips() {\n    let user = this.authService.getUserData();\n    console.log(user);\n    return this.db.list('trips', {\n      query: {\n        orderByChild: 'passengerId',\n        equalTo: user.uid\n      }\n    });\n  }\n\n  rateTrip(tripId, stars) {\n    return this.db.object('trips/' + tripId).update({\n      rating: stars\n    });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/trip-service.ts","import { Component } from '@angular/core';\nimport { NavController, LoadingController, AlertController } from 'ionic-angular';\nimport { LoginPage } from '../login/login';\nimport { HomePage } from \"../home/home\";\nimport { AuthService } from \"../../services/auth-service\";\n\n/*\n Generated class for the RegisterPage page.\n\n See http://ionicframework.com/docs/v2/components/#navigation for more info on\n Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-register',\n  templateUrl: 'register.html'\n})\nexport class RegisterPage {\n  email: any;\n  password: any;\n  name: any;\n\n  constructor(public nav: NavController, public authService: AuthService, public alertCtrl: AlertController,\n              public loadingCtrl: LoadingController) {\n  }\n\n  // process signup button\n  signup() {\n    // require email, password, name\n    if (!this.email || !this.password || !this.name) {\n      let alert = this.alertCtrl.create({\n        message: 'Please provide email, name and password',\n        buttons: ['OK']\n      });\n      return alert.present();\n    }\n\n    let loading = this.loadingCtrl.create({\n      content: 'Please wait...'\n    });\n    loading.present();\n\n    this.authService.register(this.email, this.password, this.name).subscribe(authData => {\n      loading.dismiss();\n      this.nav.setRoot(HomePage);\n    }, error => {\n      loading.dismiss();\n      let alert = this.alertCtrl.create({\n        message: error.message,\n        buttons: ['OK']\n      });\n      alert.present();\n    });\n  }\n\n  login() {\n    this.nav.setRoot(LoginPage);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.ts","import { Component } from '@angular/core';\nimport { NavController, LoadingController, NavParams } from 'ionic-angular';\nimport { PlaceService } from '../../services/place-service';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { HomePage } from \"../home/home\";\nimport { MapPage } from \"../map/map\";\nimport { TripService } from \"../../services/trip-service\";\n\n/*\n Generated class for the PlacesPage page.\n\n See http://ionicframework.com/docs/v2/components/#navigation for more info on\n Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-places',\n  templateUrl: 'places.html'\n})\nexport class PlacesPage {\n  // all places\n  places: any;\n\n  // search keyword\n  keyword = '';\n\n  // lat & lon\n  lat: number;\n  lon: number;\n\n  // loading object\n  loading: any;\n\n  // page loaded flag\n  pageLoaded = false;\n\n  constructor(public nav: NavController, public placeService: PlaceService, public geolocation: Geolocation,\n              public loadingCtrl: LoadingController, public navParams: NavParams, public tripService: TripService) {\n    this.loading = this.loadingCtrl.create({\n      content: 'Please wait...'\n    });\n\n    this.geolocation.getCurrentPosition().then((resp) => {\n      this.lat = resp.coords.latitude;\n      this.lon = resp.coords.longitude;\n      this.search();\n    }).catch((error) => {\n      console.log('Error getting location', error);\n    });\n  }\n\n  // show search input\n  ionViewDidEnter() {\n    this.pageLoaded = true;\n  }\n\n  // hide search input\n  ionViewWillLeave() {\n    this.pageLoaded = false;\n  }\n\n  // choose a place\n  selectPlace(place) {\n    if (this.navParams.get('type') == 'origin') {\n      this.tripService.setOrigin(place.vicinity, place.geometry.location.lat, place.geometry.location.lng);\n    } else {\n      this.tripService.setDestination(place.vicinity, place.geometry.location.lat, place.geometry.location.lng);\n    }\n\n    this.nav.setRoot(HomePage);\n  }\n\n  // clear search input\n  clear() {\n    this.keyword = '';\n    this.search();\n  }\n\n  // search by address\n  search() {\n    this.showLoading();\n    this.placeService.searchByAddress(this.keyword, this.lat, this.lon).subscribe(result => {\n      this.hideLoading();\n      this.places = result.results;\n    });\n  }\n\n  // calculate distance from a place to current position\n  calcDistance(place) {\n    return this.placeService.calcCrow(place.geometry.location.lat, place.geometry.location.lng, this.lat, this.lon).toFixed(1);\n  }\n\n  showLoading() {\n    this.loading = this.loadingCtrl.create({\n      content: 'Please wait...'\n    });\n    this.loading.present();\n  }\n\n  hideLoading() {\n    this.loading.dismiss();\n  }\n\n  // open map page\n  openMap() {\n    this.nav.push(MapPage, {type: this.navParams.get('type')});\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/places/places.ts","import { Component, ChangeDetectorRef } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { PlaceService } from \"../../services/place-service\";\nimport { HomePage } from \"../home/home\";\nimport { TripService } from \"../../services/trip-service\";\ndeclare var google: any;\n/*\n Generated class for the LoginPage page.\n\n See http://ionicframework.com/docs/v2/components/#navigation for more info on\n Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-map',\n  templateUrl: 'map.html',\n})\nexport class MapPage {\n  map: any;\n\n  // pin address\n  address: any;\n\n  // marker position on screen\n  markerFromTop = 0;\n  markerFromLeft = 0;\n\n  constructor(public nav: NavController, private geolocation: Geolocation, public chRef: ChangeDetectorRef,\n              public navParams: NavParams, public placeService: PlaceService, public tripService: TripService) {\n  }\n\n  // Load map only after view is initialized\n  ionViewDidLoad() {\n    this.loadMap();\n\n    // set marker position in center of screen\n    // minus marker's size\n    this.markerFromTop = window.screen.height / 2 - 16;\n    this.markerFromLeft = window.screen.width / 2 - 8;\n  }\n\n  loadMap() {\n    // set current location as map center\n    this.geolocation.getCurrentPosition().then((resp) => {\n      let latLng = new google.maps.LatLng(resp.coords.latitude, resp.coords.longitude);\n\n      this.map = new google.maps.Map(document.getElementById('map'), {\n        zoom: 16,\n        center: latLng,\n        mapTypeId: google.maps.MapTypeId.ROADMAP,\n        mapTypeControl: false,\n        zoomControl: false,\n      });\n\n      // get center's address\n      this.findPlace(latLng);\n\n      this.map.addListener('center_changed', (event) => {\n        let center = this.map.getCenter();\n        this.findPlace(center);\n      })\n    }).catch((error) => {\n      console.log('Error getting location', error);\n    });\n  }\n\n  // find address by LatLng\n  findPlace(latLng) {\n    let geocoder = new google.maps.Geocoder();\n    geocoder.geocode({'latLng': latLng}, (results, status) => {\n      if (status == google.maps.GeocoderStatus.OK) {\n        this.address = results[0];\n        this.chRef.detectChanges();\n      }\n    });\n  }\n\n  // choose address and go back to home page\n  selectPlace() {\n    let address = this.placeService.formatAddress(this.address);\n\n    if (this.navParams.get('type') == 'origin') {\n      this.tripService.setOrigin(address.vicinity, address.location.lat, address.location.lng);\n    } else {\n      this.tripService.setDestination(address.vicinity, address.location.lat, address.location.lng);\n    }\n\n    this.nav.setRoot(HomePage);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/map/map.ts","import { Injectable } from \"@angular/core\";\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { Storage } from '@ionic/storage';\nimport { Observable } from 'rxjs/Observable';\nimport * as firebase from 'firebase/app';\nimport 'rxjs/add/operator/take'\nimport { DEFAULT_AVATAR } from \"./constants\";\nimport { Facebook } from '@ionic-native/facebook';\n\n@Injectable()\nexport class AuthService {\n  user: any;\n\n  constructor(public afAuth: AngularFireAuth, public db: AngularFireDatabase, public storage: Storage, private fb: Facebook) {\n\n  }\n\n  // get current user data from firebase\n  getUserData() {\n    return this.afAuth.auth.currentUser;\n  }\n\n  // get passenger by id\n  getUser(id) {\n    return this.db.object('passengers/' + id);\n  }\n\n  // login by email and password\n  login(email, password) {\n    return this.afAuth.auth.signInWithEmailAndPassword(email, password);\n  }\n\n  // login with facebook\n  loginWithFacebook() {\n    return Observable.create(observer => {\n      this.fb.login(['email', 'public_profile']).then(res => {\n        const facebookCredential = firebase.auth.FacebookAuthProvider.credential(res.authResponse.accessToken);\n        firebase.auth().signInWithCredential(facebookCredential).then((result) => {\n          result.name = result.displayName;\n          this.createUserIfNotExist(result);\n          observer.next();\n        }, (error) => {\n          if (error) {\n            observer.error(error);\n          }          \n        })\n      })\n    })\n  }\n\n  // login with google\n  loginWithGoogle() {\n    return Observable.create(observer => {\n      return this.afAuth.auth.signInWithPopup(new firebase.auth.GoogleAuthProvider()).then(result => {\n\n        this.createUserIfNotExist(result.user);\n        observer.next();\n      }).catch((error: any) => {\n        if (error) {\n          observer.error(error);\n        }\n      });\n    });\n  }\n\n  logout() {\n    return this.afAuth.auth.signOut();\n  }\n\n  // register new account\n  register(email, password, name) {\n    return Observable.create(observer => {\n      this.afAuth.auth.createUserWithEmailAndPassword(email, password).then((authData: any) => {\n        authData.name = name;\n\n        // update passenger object\n        this.updateUserProfile(authData);\n        observer.next();\n      }).catch((error: any) => {\n        if (error) {\n          observer.error(error);\n        }\n      });\n    });\n  }\n\n  // update user display name and photo\n  updateUserProfile(user) {\n    let name = user.name ? user.name : user.email;\n    let photoUrl = user.photoURL ? user.photoURL : DEFAULT_AVATAR;\n\n    this.getUserData().updateProfile({\n      displayName: name,\n      photoURL: photoUrl\n    });\n\n    // create or update passenger\n    this.db.object('passengers/' + user.uid).update({\n      name: name,\n      photoURL: photoUrl,\n      email: user.email,\n      phoneNumber: user.phoneNumber ? user.phoneNumber : ''\n    })\n  }\n\n  // create new user if not exist\n  createUserIfNotExist(user) {\n    // check if user does not exist\n    this.getUser(user.uid).take(1).subscribe(snapshot => {\n      if (snapshot.$value === null) {\n        // update passenger object\n        this.updateUserProfile(user);\n      }\n    });\n  }\n\n  // update card setting\n  updateCardSetting(number, exp, cvv, token) {\n    const user = this.getUserData();\n    this.db.object('passengers/' + user.uid + '/card').update({\n      number: number,\n      exp: exp,\n      cvv: cvv,\n      token: token\n    })\n  }\n\n  // get card setting\n  getCardSetting() {\n    const user = this.getUserData();\n    return this.db.object('passengers/' + user.uid + '/card');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/auth-service.ts","import { Component } from '@angular/core';\nimport { NavController, LoadingController } from 'ionic-angular';\nimport { AuthService } from \"../../services/auth-service\";\nimport { CardSettingPage } from \"../card-setting/card-setting\";\nimport { TripService } from \"../../services/trip-service\";\n\n/*\n Generated class for the PaymentMethodPage page.\n\n See http://ionicframework.com/docs/v2/components/#navigation for more info on\n Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-payment-method',\n  templateUrl: 'payment-method.html'\n})\nexport class PaymentMethodPage {\n  carNumber: any = null;\n\n  constructor(public nav: NavController, public authService: AuthService, public tripService: TripService,\n              public loadingCtrl: LoadingController) {\n    const loading = loadingCtrl.create({\n      content: 'Please wait...'\n    });\n    loading.present();\n\n    authService.getCardSetting().take(1).subscribe(snapshot => {\n      loading.dismiss();\n      if (snapshot) {\n        this.carNumber = snapshot.number;\n      }\n    });\n  }\n\n  // apply change method\n  changeMethod(method) {\n    this.tripService.setPaymentMethod(method);\n    // go back\n    this.nav.pop();\n  }\n\n  // add card\n  addCard() {\n    this.nav.push(CardSettingPage, {back: true});\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/payment-method/payment-method.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { DriverPage } from '../driver/driver';\nimport { TripService } from \"../../services/trip-service\";\nimport { DealService } from \"../../services/deal-service\";\nimport { HomePage } from \"../home/home\";\nimport { DEAL_STATUS_PENDING, DEAL_STATUS_ACCEPTED } from \"../../services/constants\";\n\n/*\n Generated class for the FindingPage page.\n\n See http://ionicframework.com/docs/v2/components/#navigation for more info on\n Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-finding',\n  templateUrl: 'finding.html'\n})\nexport class FindingPage {\n  drivers: any;\n\n  constructor(public nav: NavController, public tripService: TripService, public dealService: DealService) {\n    // get list available drivers\n    this.drivers = this.tripService.getAvailableDrivers();\n    // sort by driver distance and rating\n    this.drivers = this.dealService.sortDriversList(this.drivers);\n\n    if (this.drivers) {\n      // make deal to first user\n      this.makeDeal(0);\n    }\n  }\n\n  // make deal to driver\n  makeDeal(index) {\n    let driver = this.drivers[index];\n    let dealAccepted = false;\n\n    if (driver) {\n      driver.status = 'Bidding';\n      this.dealService.getDriverDeal(driver.$key).take(1).subscribe(snapshot => {\n        // if user is available\n        if (snapshot.$value === null) {\n          // create a record\n          console.log(snapshot);\n          this.dealService.makeDeal(\n              driver.$key,\n              this.tripService.getOrigin(),\n              this.tripService.getDestination(),\n              this.tripService.getDistance(),\n              this.tripService.getFee(),\n              this.tripService.getCurrency(),\n              this.tripService.getNote(),\n              this.tripService.getPaymentMethod(),\n          ).then(() => {\n            let sub = this.dealService.getDriverDeal(driver.$key).subscribe(snap => {\n              // if record doesn't exist or is accepted\n              if (snap.$value === null || snap.status != DEAL_STATUS_PENDING) {\n                sub.unsubscribe();\n\n                // if deal has been cancelled\n                if (snap.$value === null) {\n                  this.nextDriver(index);\n                } else if (snap.status == DEAL_STATUS_ACCEPTED) {\n                  // if deal is accepted\n                  console.log('accepted', snap.tripId);\n                  dealAccepted = true;\n                  this.drivers = [];\n                  this.tripService.setId(snap.tripId);\n                  // go to user page\n                  this.nav.setRoot(DriverPage);\n                }\n              }\n            });\n\n            // if timeout\n            /*\n            setTimeout(() => {\n              if (!dealAccepted) {\n                sub.unsubscribe();\n                // remove record\n                this.dealService.removeDeal(driver.$key);\n                // make deal to other user\n                this.nextDriver(index);\n              }\n            }, DEAL_TIMEOUT);\n            */\n          });\n        } else {\n          this.nextDriver(index);\n        }\n      });\n    } else {\n      // show error & try again button\n      console.log('No user found');\n    }\n  }\n\n  // make deal to next driver\n  nextDriver(index) {\n    this.drivers.splice(index, 1);\n    this.makeDeal(index);\n  }\n\n  goBack() {\n    this.nav.setRoot(HomePage);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/finding/finding.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { DriverService } from '../../services/driver-service';\nimport { TrackingPage } from '../tracking/tracking';\nimport { TripService } from \"../../services/trip-service\";\n\n/*\n Generated class for the DriverPage page.\n\n See http://ionicframework.com/docs/v2/components/#navigation for more info on\n Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-driver',\n  templateUrl: 'driver.html'\n})\nexport class DriverPage {\n  driver: any;\n  // trip info\n  trip: any\n  navTimeout: any;\n\n  constructor(public nav: NavController, public driverService: DriverService, public tripService: TripService) {\n\n    let tripId = this.tripService.getId();\n    // get current trip\n    this.tripService.getTrip(tripId).take(1).subscribe(snapshot => {\n      this.trip = snapshot;\n\n      // get driver from trip\n      this.driverService.getDriver(snapshot.driverId).take(1).subscribe(snap => {\n        this.driver = snap;\n      })\n    });\n\n    // after 5 seconds, go to trcking page\n    this.navTimeout = setTimeout(() => {\n      this.track();\n    }, 5000);\n  }\n\n  ionViewWillLeave() {\n    clearTimeout(this.navTimeout);\n  }\n\n  track() {\n    this.nav.setRoot(TrackingPage);\n  }\n\n  // make array with range is n\n  range(n) {\n    return new Array(Math.round(n));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/driver/driver.ts","import { Component } from '@angular/core';\nimport { NavController, Platform, ModalController } from 'ionic-angular';\nimport { DriverService } from '../../services/driver-service';\nimport { HomePage } from \"../home/home\";\nimport { ChatPage } from \"../chat/chat\";\nimport { TripService } from \"../../services/trip-service\";\nimport { POSITION_INTERVAL, TRIP_STATUS_GOING, TRIP_STATUS_FINISHED } from \"../../services/constants\";\nimport { PlaceService } from \"../../services/place-service\";\nimport { ModalRatingPage } from \"../modal-rating/modal-rating\";\ndeclare var google: any;\n\n/*\n Generated class for the TrackingPage page.\n\n See http://ionicframework.com/docs/v2/components/#navigation for more info on\n Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-tracking',\n  templateUrl: 'tracking.html'\n})\nexport class TrackingPage {\n  // map height\n  mapHeight: number = 480;\n  // user info\n  driver: any;\n  // driver id for chat\n  driverId: any;\n  // map\n  map: any;\n  // trip info\n  trip: any;\n  // user tracking interval\n  driverTracking: any;\n  // user marker on map\n  marker: any;\n  // trip status\n  tripStatus: any;\n  // trip subscription\n  tripSubscription: any;\n\n  constructor(public nav: NavController, public driverService: DriverService, public platform: Platform,\n              public tripService: TripService, public placeService: PlaceService, public modalCtrl: ModalController) {\n  }\n\n  ionViewDidLoad() {\n    let tripId = this.tripService.getId();\n    this.tripService.getTrip(tripId).take(1).subscribe(snapshot => {\n      this.trip = snapshot;\n      this.driverId = snapshot.driverId;\n\n      this.driverService.getDriver(this.driverId).take(1).subscribe(snap => {\n        console.log(snap);\n        this.driver = snap;\n        this.watchTrip(tripId);\n        // init map\n        this.loadMap();\n      })\n    });\n\n  }\n\n  ionViewWillLeave() {\n    //this.tripSubscription.unsubscribe();\n    clearInterval(this.driverTracking);\n  }\n\n  watchTrip(tripId) {\n    this.tripSubscription = this.tripService.getTrip(tripId).subscribe(snapshot => {\n      this.tripStatus = snapshot.status;\n\n      // if trip has been finished\n      if (this.tripStatus == TRIP_STATUS_FINISHED) {\n        this.tripSubscription.unsubscribe();\n        this.showRatingModal();\n      }\n    });\n  }\n\n  showRatingModal() {\n    console.log(this.trip, this.driver);\n    let modal = this.modalCtrl.create(ModalRatingPage, {\n      trip: this.trip,\n      driver: this.driver\n    });\n    modal.onDidDismiss(data => {\n      this.nav.setRoot(HomePage)\n    });\n    modal.present();\n  }\n\n  loadMap() {\n    let latLng = new google.maps.LatLng(this.trip.origin.location.lat, this.trip.origin.location.lng);\n\n    let mapOptions = {\n      center: latLng,\n      zoom: 15,\n      mapTypeId: google.maps.MapTypeId.ROADMAP,\n      mapTypeControl: false,\n      zoomControl: false,\n      streetViewControl: false\n    }\n\n    this.map = new google.maps.Map(document.getElementById(\"map\"), mapOptions);\n\n    // get ion-view height\n    let viewHeight = window.screen.height - 44; // minus nav bar\n    // get info block height\n    let infoHeight = document.getElementsByClassName('tracking-info')[0].scrollHeight;\n\n    this.mapHeight = viewHeight - infoHeight;\n\n    new google.maps.Marker({\n      map: this.map,\n      animation: google.maps.Animation.DROP,\n      position: latLng,\n      icon: 'assets/img/pin.png'\n    });\n\n    this.trackDriver();\n  }\n\n  // make array with range is n\n  range(n) {\n    return new Array(Math.round(n));\n  }\n\n  trackDriver() {\n    this.showDriverOnMap();\n\n    this.driverTracking = setInterval(() => {\n      // this.marker.setMap(null);\n      // this.showDriverOnMap();\n    }, POSITION_INTERVAL);\n\n    console.log(POSITION_INTERVAL);\n  }\n\n  // show user on map\n  showDriverOnMap() {\n    // get user's position\n    this.driverService.getDriverPosition(\n        this.placeService.getLocality(),\n        this.driver.type,\n        this.driver.$key\n    ).take(1).subscribe(snapshot => {\n      // create or update\n      let latLng = new google.maps.LatLng(snapshot.lat, snapshot.lng);\n      let angle = this.driverService.getIconWithAngle(snapshot);\n\n      if (this.tripStatus == TRIP_STATUS_GOING) {\n        console.log(this.tripStatus);\n        this.map.setCenter(latLng);\n      }\n\n      // show vehicle to map\n      this.marker = new google.maps.Marker({\n        map: this.map,\n        position: latLng,\n        icon: {\n          url: 'assets/img/icon/' + this.tripService.getIcon() + angle + '.png',\n          size: new google.maps.Size(32, 32),\n          origin: new google.maps.Point(0, 0),\n          anchor: new google.maps.Point(16, 16),\n          scaledSize: new google.maps.Size(32, 32)\n        },\n      });\n    });\n  }\n\n  goToChat() {\n    this.nav.push(ChatPage, {\n      driverId: this.driverId\n    })\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tracking/tracking.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, App, ViewController } from 'ionic-angular';\nimport { TripService } from \"../../services/trip-service\";\n\n/*\n Generated class for the ModalRatingPage page.\n\n See http://ionicframework.com/docs/v2/components/#navigation for more info on\n Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-modal-rating',\n  templateUrl: 'modal-rating.html'\n})\nexport class ModalRatingPage {\n  // user info\n  driver: any;\n  // trip info\n  trip: any;\n  // rating\n  rating: number = 0;\n\n  constructor(public nav: NavController, public navParams: NavParams, public tripService: TripService,\n              public viewCtrl: ViewController, public app: App) {\n    // get params from navParams\n    this.driver = navParams.get('driver');\n    this.trip = navParams.get('trip');\n  }\n\n  // call when click to stars\n  rate(star) {\n    this.rating = star;\n  }\n\n  // submit rating\n  submit() {\n    this.tripService.rateTrip(this.trip.$key, this.rating).then(() => {\n      this.viewCtrl.dismiss();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal-rating/modal-rating.ts","import { Injectable } from \"@angular/core\";\nimport { AngularFireDatabase } from \"angularfire2/database/database\";\nimport { DEAL_STATUS_PENDING } from \"./constants\";\nimport { AuthService } from \"./auth-service\";\n\n@Injectable()\nexport class DealService {\n  constructor(public db: AngularFireDatabase, public authService: AuthService) {\n  }\n\n  // sort driver by rating & distance\n  sortDriversList(drivers: Array<any>) {\n    return drivers.sort((a, b) => {\n      return (a.rating - a.distance / 5) - (b.rating - b.distance / 5);\n    })\n  }\n\n  // make deal to driver\n  makeDeal(driverId, origin, destination, distance, fee, currency, note, paymentMethod) {\n    let user = this.authService.getUserData();\n    return this.db.object('deals/' + driverId).set({\n      passengerId: user.uid,\n      currency: currency,\n      origin: origin,\n      destination: destination,\n      distance: distance,\n      fee: fee,\n      note: note,\n      paymentMethod: paymentMethod,\n      status: DEAL_STATUS_PENDING,\n      createdAt: Date.now()\n    });\n  }\n\n  // get deal by driverId\n  getDriverDeal(driverId) {\n    return this.db.object('deals/' + driverId);\n  }\n\n  // remove deal\n  removeDeal(driverId) {\n    return this.db.object('deals/' + driverId).remove();\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/deal-service.ts","import { Injectable } from \"@angular/core\";\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { Storage } from \"@ionic/storage\";\n\n@Injectable()\nexport class SettingService {\n\n  constructor(public db: AngularFireDatabase, public storage: Storage) {\n\n  }\n\n  getPrices() {\n    return this.db.object('master_settings/prices');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/setting-service.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { NotificationService } from '../../services/notification-service';\n\n/*\n Generated class for the NotificationPage page.\n\n See http://ionicframework.com/docs/v2/components/#navigation for more info on\n Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-notification',\n  templateUrl: 'notification.html'\n})\nexport class NotificationPage {\n  public notifications: any;\n\n  constructor(public nav: NavController, public notificationService: NotificationService) {\n    this.notifications = notificationService.getAll();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/notification/notification.ts","import { Injectable } from \"@angular/core\";\nimport { NOTIFICATIONS } from \"./mock-notifications\";\n\n@Injectable()\nexport class NotificationService {\n  private notifications: any;\n\n  constructor() {\n    this.notifications = NOTIFICATIONS;\n  }\n\n  getAll() {\n    return this.notifications;\n  }\n\n  getItem(id) {\n    for (var i = 0; i < this.notifications.length; i++) {\n      if (this.notifications[i].id === parseInt(id)) {\n        return this.notifications[i];\n      }\n    }\n    return null;\n  }\n\n  remove(item) {\n    this.notifications.splice(this.notifications.indexOf(item), 1);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/notification-service.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\n/*\n Generated class for the SupportPage page.\n\n See http://ionicframework.com/docs/v2/components/#navigation for more info on\n Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-support',\n  templateUrl: 'support.html'\n})\nexport class SupportPage {\n  constructor(public nav: NavController) {\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/support/support.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\nimport { TripService } from '../../services/trip-service';\nimport { TripDetailPage } from \"../trip-detail/trip-detail\";\nimport 'rxjs/add/operator/map';\n\n/*\n Generated class for the LoginPage page.\n\n See http://ionicframework.com/docs/v2/components/#navigation for more info on\n Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-trips',\n  templateUrl: 'trips.html',\n})\nexport class TripsPage {\n  // list of trips\n  trips: Array<any>;\n\n  constructor(public nav: NavController, public tripService: TripService) {\n    this.tripService.getTrips().take(1).subscribe(snapshot => {\n      this.trips = snapshot.reverse();\n    });\n  }\n\n  viewTrip(trip) {\n    console.log(trip);\n    this.nav.push(TripDetailPage, {\n      trip: trip\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/trips/trips.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { DriverService } from \"../../services/driver-service\";\n\n/*\n Generated class for the LoginPage page.\n\n See http://ionicframework.com/docs/v2/components/#navigation for more info on\n Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-trip-detail',\n  templateUrl: 'trip-detail.html',\n})\nexport class TripDetailPage {\n  trip: any;\n  driver: any;\n\n  constructor(public nav: NavController, public navParams: NavParams, public driverService: DriverService) {\n    this.trip = navParams.get('trip');\n    this.driverService.getDriver(this.trip.driverId).take(1).subscribe(snapshot => {\n      this.driver = snapshot;\n    });\n  }\n\n  // make array with range is n\n  range(n) {\n    return new Array(Math.round(n));\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/trip-detail/trip-detail.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, ToastController, LoadingController } from 'ionic-angular';\nimport { AuthService } from \"../../services/auth-service\";\nimport * as firebase from 'firebase';\n\n/*\n Generated class for the LoginPage page.\n\n See http://ionicframework.com/docs/v2/components/#navigation for more info on\n Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-user',\n  templateUrl: 'user.html',\n})\nexport class UserPage {\n  user = {\n    photoURL: ''\n  };\n\n  constructor(public nav: NavController, public authService: AuthService, public navParams: NavParams,\n              public toastCtrl: ToastController, public loadingCtrl: LoadingController) {\n    let user = navParams.get('user');\n    this.authService.getUser(user.uid).take(1).subscribe(snapshot => {\n      snapshot.uid = snapshot.$key;\n      this.user = snapshot;\n    });\n  }\n\n  // save user info\n  save() {\n    this.authService.updateUserProfile(this.user);\n    this.nav.pop();\n    let toast = this.toastCtrl.create({\n      message: 'Your profile has been updated',\n      duration: 3000,\n      position: 'middle'\n    });\n    toast.present();\n  }\n\n  // choose file for upload\n  chooseFile() {\n    document.getElementById('avatar').click();\n  }\n\n  // upload thumb for item\n  upload() {\n    // Create a root reference\n    let storageRef = firebase.storage().ref();\n    let loading = this.loadingCtrl.create({\n      content: 'Please wait...'\n    });\n    loading.present();\n\n    for (let selectedFile of [(<HTMLInputElement>document.getElementById('avatar')).files[0]]) {\n      let path = '/users/' + Date.now() + `${selectedFile.name}`;\n      let iRef = storageRef.child(path);\n      iRef.put(selectedFile).then((snapshot) => {\n        loading.dismiss();\n        this.user.photoURL = snapshot.downloadURL;\n      });\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user/user.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { ChatPage } from '../chat/chat';\nimport { ChatService } from '../../services/chat-service';\n\n@Component({\n  selector: 'page-chat-history',\n  templateUrl: 'chat-history.html'\n})\n\nexport class ChatHistoryPage {\n\tchats: Array<any>;\n  loadedChats: Array<any>;\n  getHistorySubscription: any;\n\n  constructor(public nav: NavController, public chatService: ChatService) {\n  }\n\n  ionViewWillEnter() {\n    this.getHistorySubscription = this.chatService.getHistory().subscribe(snapshot => {\n      this.loadedChats = snapshot;\n      this.initializeItems();\n    })\n  }\n\n  ionViewWillLeave() {\n    this.getHistorySubscription.unsubscribe();\n  }\n\n  initializeItems() {\n    this.chats = this.loadedChats;\n  }\n\n  getItems(ev: any) {\n    this.initializeItems();\n    let val = ev.target.value;\n    if (val && val.trim() != '') {\n      this.chats = this.chats.filter((chat) => {\n        return (chat.name.toLowerCase().indexOf(val.toLowerCase()) > -1) ||\n          (chat.text.toLowerCase().indexOf(val.toLowerCase()) > -1);\n      })\n    }\n  }\n\n  goToChat(driverId) {\n    this.nav.push(ChatPage, {\n      driverId: driverId\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat-history/chat-history.ts","import { Component, ChangeDetectorRef } from '@angular/core';\nimport { NavController, Platform, AlertController, LoadingController } from 'ionic-angular';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { PlacesPage } from '../places/places';\nimport { PaymentMethodPage } from '../payment-method/payment-method';\nimport { FindingPage } from \"../finding/finding\";\nimport { PlaceService } from \"../../services/place-service\";\nimport { SettingService } from \"../../services/setting-service\";\nimport { DriverService } from \"../../services/driver-service\";\nimport { TripService } from \"../../services/trip-service\";\nimport { SHOW_VEHICLES_WITHIN, POSITION_INTERVAL, VEHICLE_LAST_ACTIVE_LIMIT } from \"../../services/constants\";\ndeclare var google: any;\n\n/*\n Generated class for the HomePage page.\n\n See http://ionicframework.com/docs/v2/components/#navigation for more info on\n Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\n\nexport class HomePage {\n  // map id\n  mapId = Math.random() + 'map';\n\n  // map height\n  mapHeight: number = 480;\n\n  // show - hide modal bg\n  showModalBg: boolean = false;\n\n  // show vehicles flag\n  showVehicles: boolean = false;\n\n  // list vehicles\n  vehicles: any = [];\n\n  // current vehicle type\n  currentVehicle: any;\n\n  // Note to user\n  note: any = '';\n\n  // Map\n  map: any;\n\n  // origin and destination\n  origin: any;\n  destination: any;\n\n  // loading object\n  loading: any;\n\n  // distance between origin and destination\n  distance: number = 0;\n\n  // currency\n  currency: string;\n\n  // current locality\n  locality: any;\n\n  // payment method\n  paymentMethod: string = 'cash';\n\n  // active drivers list\n  activeDrivers: Array<any> = [];\n\n  // list of user markers on the map\n  driverMarkers: Array<any> = [];\n\n  // user tracking interval\n  driverTracking: any;\n\n  constructor(public nav: NavController, public platform: Platform, public alertCtrl: AlertController,\n              public placeService: PlaceService, private geolocation: Geolocation, private chRef: ChangeDetectorRef,\n              public loadingCtrl: LoadingController, public settingService: SettingService,\n              public tripService: TripService, public driverService: DriverService) {\n    this.origin = tripService.getOrigin();\n    this.destination = tripService.getDestination();\n  }\n\n  ionViewDidLoad() {\n    // on view ready, start loading map\n    this.loadMap();\n  }\n\n  ionViewWillLeave() {\n    // stop tracking driver\n    clearInterval(this.driverTracking);\n  }\n\n  // get current payment method from service\n  getPaymentMethod() {\n    this.paymentMethod = this.tripService.getPaymentMethod()\n    return this.paymentMethod;\n  }\n\n  // toggle active vehicle\n  chooseVehicle(index) {\n    for (var i = 0; i < this.vehicles.length; i++) {\n      this.vehicles[i].active = (i == index);\n\n      // choose this vehicle type\n      if (i == index) {\n        this.tripService.setVehicle(this.vehicles[i]);\n        this.currentVehicle = this.vehicles[i];\n      }\n    }\n\n    // start tracking new driver type\n    this.trackDrivers();\n    this.toggleVehicles();\n  }\n\n  // load map\n  loadMap() {\n    this.showLoading();\n\n    // get current location\n    return this.geolocation.getCurrentPosition().then((resp) => {\n      let latLng;\n\n      if (this.origin) {\n        // set map center as origin\n        latLng = new google.maps.LatLng(this.origin.location.lat, this.origin.location.lng);\n      } else {\n        // set map center as current location\n        latLng = new google.maps.LatLng(resp.coords.latitude, resp.coords.longitude);\n      }\n\n      this.map = new google.maps.Map(document.getElementById(this.mapId), {\n        zoom: 15,\n        center: latLng,\n        mapTypeId: google.maps.MapTypeId.ROADMAP,\n        mapTypeControl: false,\n        zoomControl: false,\n        streetViewControl: false,\n      });\n\n      // get ion-view height, 44 is navbar height\n      this.mapHeight = window.screen.height - 44;\n\n      // find map center address\n      let geocoder = new google.maps.Geocoder();\n      geocoder.geocode({'latLng': this.map.getCenter()}, (results, status) => {\n        if (status == google.maps.GeocoderStatus.OK) {\n          if (!this.origin) {\n            // set map center as origin\n            this.origin = this.placeService.formatAddress(results[0]);\n            this.tripService.setOrigin(this.origin.vicinity, this.origin.location.lat, this.origin.location.lng);\n            this.setOrigin();\n            this.chRef.detectChanges();\n          } else {\n            this.setOrigin();\n          }\n\n          // save locality\n          let locality = this.placeService.setLocalityFromGeocoder(results);\n          console.log('locality', locality);\n          // load list vehicles\n          this.settingService.getPrices().subscribe(snapshot => {\n            let obj = snapshot[locality] ? snapshot[locality] : snapshot.default;\n            this.currency = obj.currency;\n            this.tripService.setCurrency(this.currency);\n\n            // calculate price\n            Object.keys(obj.vehicles).forEach(id => {\n              obj.vehicles[id].id = id;\n              this.vehicles.push(obj.vehicles[id]);\n            });\n\n            // calculate distance between origin adn destination\n            if (this.destination) {\n              this.placeService.getDirection(this.origin.location.lat, this.origin.location.lng, this.destination.location.lat,\n                  this.destination.location.lng).subscribe(result => {\n                this.distance = result.routes[0].legs[0].distance.value;\n\n                for (let i = 0; i < this.vehicles.length; i++) {\n                  this.vehicles[i].fee = this.distance * this.vehicles[i].price / 1000;\n                  this.vehicles[i].fee = this.vehicles[i].fee.toFixed(2);\n                }\n              });\n            }\n\n            // set first device as default\n            this.vehicles[0].active = true;\n            this.currentVehicle = this.vehicles[0];\n\n            this.locality = locality;\n            this.trackDrivers();\n          });\n        }\n      });\n\n      // add destination to map\n      if (this.destination) {\n        new google.maps.Marker({\n          map: this.map,\n          animation: google.maps.Animation.DROP,\n          position: new google.maps.LatLng(this.destination.location.lat, this.destination.location.lng)\n        });\n      }\n\n      this.hideLoading();\n\n    }).catch((error) => {\n      console.log('Error getting location', error);\n    });\n  }\n\n  // Show note popup when click to 'Notes to user'\n  showNotePopup() {\n    let prompt = this.alertCtrl.create({\n      title: 'Notes to user',\n      message: \"\",\n      inputs: [\n        {\n          name: 'note',\n          placeholder: 'Note'\n        },\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          handler: data => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'Save',\n          handler: data => {\n            this.note = data;\n            this.tripService.setNote(data);\n            console.log('Saved clicked');\n          }\n        }\n      ]\n    });\n\n    prompt.present();\n  };\n\n  // go to next view when the 'Book' button is clicked\n  book() {\n    // store detail\n    this.tripService.setAvailableDrivers(this.activeDrivers);\n    this.tripService.setDistance(this.distance);\n    this.tripService.setFee(this.currentVehicle.fee);\n    this.tripService.setIcon(this.currentVehicle.icon);\n    this.tripService.setNote(this.note);\n    // this.tripService.setPaymentMethod('');\n\n    // go to finding page\n    this.nav.setRoot(FindingPage);\n  }\n\n  // choose origin place\n  chooseOrigin() {\n    // go to places page\n    this.nav.push(PlacesPage, {type: 'origin'});\n  }\n\n  // choose destination place\n  chooseDestination() {\n    // go to places page\n    this.nav.push(PlacesPage, {type: 'destination'});\n  }\n\n  // choose payment method\n  choosePaymentMethod() {\n    // go to payment method page\n    this.nav.push(PaymentMethodPage);\n  }\n\n  // add origin marker to map\n  setOrigin() {\n    // add origin and destination marker\n    let latLng = new google.maps.LatLng(this.origin.location.lat, this.origin.location.lng);\n    new google.maps.Marker({\n      map: this.map,\n      animation: google.maps.Animation.DROP,\n      position: latLng,\n      icon: 'assets/img/pin.png'\n    });\n\n    // set map center to origin address\n    this.map.setCenter(latLng);\n  }\n\n  showLoading() {\n    this.loading = this.loadingCtrl.create({\n      content: 'Please wait...'\n    });\n    this.loading.present();\n  }\n\n  hideLoading() {\n    this.loading.dismiss();\n  }\n\n  // show or hide vehicles\n  toggleVehicles() {\n    this.showVehicles = !this.showVehicles;\n    this.showModalBg = (this.showVehicles == true);\n  }\n\n  // track drivers\n  trackDrivers() {\n    this.showDriverOnMap(this.locality);\n    clearInterval(this.driverTracking);\n\n    this.driverTracking = setInterval(() => {\n      // this.showDriverOnMap(this.locality);\n    }, POSITION_INTERVAL);\n\n    console.log(POSITION_INTERVAL);\n  }\n\n  // show drivers on map\n  showDriverOnMap(locality) {\n    // get active drivers\n    this.driverService.getActiveDriver(locality, this.currentVehicle.id).take(1).subscribe(snapshot => {\n      console.log('fresh vehicles');\n\n      // clear vehicles\n      this.clearDrivers();\n\n      // only show near vehicle\n      snapshot.forEach(vehicle => {\n        // only show vehicle which has last active < 30 secs & distance < 5km\n        let distance = this.placeService.calcCrow(vehicle.lat, vehicle.lng, this.origin.location.lat, this.origin.location.lng);\n        if (distance < SHOW_VEHICLES_WITHIN) {\n          // create or update\n          let latLng = new google.maps.LatLng(vehicle.lat, vehicle.lng);\n          let angle = this.driverService.getIconWithAngle(vehicle);\n\n          let marker = new google.maps.Marker({\n            map: this.map,\n            position: latLng,\n            icon: {\n              url: 'assets/img/icon/' + this.currentVehicle.icon + angle + '.png',\n              size: new google.maps.Size(32, 32),\n              origin: new google.maps.Point(0, 0),\n              anchor: new google.maps.Point(16, 16),\n              scaledSize: new google.maps.Size(32, 32)\n            },\n          });\n\n          // add vehicle and marker to the list\n          vehicle.distance = distance;\n          this.driverMarkers.push(marker);\n          this.activeDrivers.push(vehicle);\n        } else {\n          //console.log('This vehicle is too far');\n        }\n      });\n    });\n  }\n\n  // clear expired drivers on the map\n  clearDrivers() {\n    this.activeDrivers = [];\n    this.driverMarkers.forEach((vehicle) => {\n      vehicle.setMap(null);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Injectable } from \"@angular/core\";\nimport { AngularFireDatabase } from \"angularfire2/database\";\n\n@Injectable()\nexport class DriverService {\n\n  constructor(public db: AngularFireDatabase) {\n\n  }\n\n  // get driver by id\n  getDriver(id) {\n    return this.db.object('drivers/' + id);\n  }\n\n  // get driver position\n  getDriverPosition(locality, vehicleType, id) {\n    return this.db.object('localities/' + locality + '/' + vehicleType + '/' + id);\n  }\n\n  getActiveDriver(locality, vehicleType) {\n    return this.db.list('localities/' + locality + '/' + vehicleType);\n  }\n\n  // calculate vehicle angle\n  calcAngle(oldLat, oldLng, lat, lng) {\n    let brng = Math.atan2(lat - oldLat, lng - oldLng);\n    brng = brng * (180 / Math.PI);\n\n    return brng;\n  }\n\n  // return icon suffix by angle\n  getIconWithAngle(vehicle) {\n    let angle = this.calcAngle(vehicle.oldLat, vehicle.oldLng, vehicle.lat, vehicle.lng);\n\n    if (angle >= -180 && angle <= -160) {\n      return '_left';\n    }\n\n    if (angle > -160 && angle <= -110) {\n      return '_bottom_left';\n    }\n\n    if (angle > -110 && angle <= -70) {\n      return '_bottom';\n    }\n\n    if (angle > -70 && angle <= -20) {\n      return '_bottom_right';\n    }\n\n    if (angle >= -20 && angle <= 20) {\n      return '_right';\n    }\n\n    if (angle > 20 && angle <= 70) {\n      return '_top_right';\n    }\n\n    if (angle > 70 && angle <= 110) {\n      return '_top';\n    }\n\n    if (angle > 110 && angle <= 160) {\n      return '_top_left';\n    }\n\n    if (angle > 160 && angle <= 180) {\n      return '_left';\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/driver-service.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { MyApp } from './app.component';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { HttpModule } from '@angular/http';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { IonicStorageModule } from '@ionic/storage';\nimport { Facebook } from '@ionic-native/facebook';\nimport { Camera } from '@ionic-native/camera';\nimport { Keyboard } from '@ionic-native/keyboard';\n\n// Import the AF2 Module\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\n\n// Import moment module\nimport { MomentModule } from 'angular2-moment';\n\n// import services\nimport { DriverService } from '../services/driver-service';\nimport { NotificationService } from '../services/notification-service';\nimport { PlaceService } from '../services/place-service';\nimport { TripService } from '../services/trip-service';\nimport { SettingService } from '../services/setting-service';\nimport { DealService } from '../services/deal-service';\nimport { AuthService } from '../services/auth-service';\nimport { ChatService } from '../services/chat-service';\n// end import services\n\n// import pages\nimport { DriverPage } from '../pages/driver/driver';\nimport { FindingPage } from '../pages/finding/finding';\nimport { HomePage } from '../pages/home/home';\nimport { LoginPage } from '../pages/login/login';\nimport { ModalRatingPage } from '../pages/modal-rating/modal-rating';\nimport { NotificationPage } from '../pages/notification/notification';\nimport { PaymentMethodPage } from '../pages/payment-method/payment-method';\nimport { PlacesPage } from '../pages/places/places';\nimport { ProfilePage } from '../pages/profile/profile';\nimport { RegisterPage } from '../pages/register/register';\nimport { SupportPage } from '../pages/support/support';\nimport { TrackingPage } from '../pages/tracking/tracking';\nimport { MapPage } from '../pages/map/map';\nimport { TripsPage } from '../pages/trips/trips';\nimport { TripDetailPage } from '../pages/trip-detail/trip-detail';\nimport { UserPage } from '../pages/user/user';\nimport { CardSettingPage } from '../pages/card-setting/card-setting';\nimport { ChatHistoryPage } from '../pages/chat-history/chat-history';\nimport { ChatPage } from '../pages/chat/chat';\n// end import pages\n\n// AF2 Settings\nexport const firebaseConfig = {\n  apiKey: \"AIzaSyDKo4A60BeWXnVTdfEku2kef4dTJ0nB13g\",\n  authDomain: \"sc-ride.firebaseapp.com\",\n  databaseURL: \"https://sc-ride.firebaseio.com\",\n  projectId: \"sc-ride\",\n  storageBucket: \"gs://sc-ride.appspot.com/\",\n  messagingSenderId: \"825922165729\"\n};\n\n@NgModule({\n  declarations: [\n    MyApp,\n    DriverPage,\n    FindingPage,\n    HomePage,\n    LoginPage,\n    ModalRatingPage,\n    NotificationPage,\n    PaymentMethodPage,\n    PlacesPage,\n    ProfilePage,\n    RegisterPage,\n    SupportPage,\n    TrackingPage,\n    MapPage,\n    TripsPage,\n    TripDetailPage,\n    UserPage,\n    CardSettingPage,\n    ChatHistoryPage,\n    ChatPage\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    IonicStorageModule.forRoot(),\n    AngularFireModule.initializeApp(firebaseConfig),\n    AngularFireDatabaseModule,\n    AngularFireAuthModule,\n    MomentModule,\n    IonicModule.forRoot(MyApp)\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    DriverPage,\n    FindingPage,\n    HomePage,\n    LoginPage,\n    ModalRatingPage,\n    NotificationPage,\n    PaymentMethodPage,\n    PlacesPage,\n    ProfilePage,\n    RegisterPage,\n    SupportPage,\n    TrackingPage,\n    MapPage,\n    TripsPage,\n    TripDetailPage,\n    UserPage,\n    CardSettingPage,\n    ChatHistoryPage,\n    ChatPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    Geolocation,\n    DriverService,\n    NotificationService,\n    PlaceService,\n    TripService,\n    SettingService,\n    DealService,\n    AuthService,\n    ChatService,\n    Facebook,\n    Camera,\n    Keyboard,\n    /* import services */\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { ViewChild } from '@angular/core';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\n// import pages\nimport { LoginPage } from '../pages/login/login';\nimport { HomePage } from '../pages/home/home';\nimport { NotificationPage } from '../pages/notification/notification';\nimport { SupportPage } from '../pages/support/support';\nimport { TripsPage } from '../pages/trips/trips';\nimport { AngularFireAuth } from 'angularfire2/auth/auth';\nimport { AuthService } from '../services/auth-service';\nimport { ChatService } from '../services/chat-service';\nimport { UserPage } from '../pages/user/user';\nimport { CardSettingPage } from '../pages/card-setting/card-setting';\nimport { ChatHistoryPage } from '../pages/chat-history/chat-history';\n// end import pages\n\n@Component({\n  templateUrl: 'app.html',\n  queries: {\n    nav: new ViewChild('content')\n  }\n})\n\nexport class MyApp {\n  rootPage: any;\n  nav: any;\n  user = {};\n  getUnreadMessagesSubscription: any;\n  pages = [\n    {\n      title: 'Home',\n      icon: 'ios-home-outline',\n      count: 0,\n      component: HomePage\n    },\n    {\n      title: 'History',\n      icon: 'ios-time-outline',\n      count: 0,\n      component: TripsPage\n    },\n    {\n      title: 'Chats history',\n      icon: 'ios-chatboxes-outline',\n      count: 0,\n      component: ChatHistoryPage\n    },\n    {\n      title: 'Card setting',\n      icon: 'ios-card-outline',\n      count: 0,\n      component: CardSettingPage\n    },\n    {\n      title: 'Notification',\n      icon: 'ios-notifications-outline',\n      count: 2,\n      component: NotificationPage\n    },\n    {\n      title: 'Support',\n      icon: 'ios-help-circle-outline',\n      count: 0,\n      component: SupportPage\n    },\n  ];\n\n  constructor(\n    platform: Platform,\n    statusBar: StatusBar,\n    splashScreen: SplashScreen,\n    public afAuth: AngularFireAuth,\n    public authService: AuthService,\n    public chatService: ChatService\n  ) {\n\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n\n      // check for login stage, then redirect\n      afAuth.authState.take(1).subscribe(authData => {\n        if (authData) {\n          this.nav.setRoot(HomePage);\n        } else {\n          this.nav.setRoot(LoginPage);\n        }\n      });\n\n      // get user data\n      afAuth.authState.subscribe(authData => {\n        if (authData) {\n          this.user = authService.getUserData();\n          this.getUnreadMessagesSubscription = this.chatService.getUnreadMessages().subscribe(snapshot => {\n            this.pages[2].count = snapshot;\n          })\n        }\n      })\n    })\n  }\n\n  openPage(page) {\n    // Reset the content nav to have just this page\n    // we wouldn't want the back button to show in this scenario\n    this.nav.setRoot(page.component);\n  }\n\n  // view current user profile\n  viewProfile() {\n    this.nav.push(UserPage, {\n      user: this.user\n    });\n  }\n\n  // logout\n  logout() {\n    this.nav.setRoot(LoginPage).then(() => {\n      this.getUnreadMessagesSubscription.unsubscribe();\n      this.authService.logout();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","export class Place {\n  private lat: number;\n  private lng: number;\n  private vicinity: string;\n\n  constructor(vicinity, lat, lng) {\n    this.lat = lat;\n    this.lng = lng;\n    this.vicinity = vicinity;\n  }\n\n  // get place object with formatted data\n  getFormatted() {\n    return {\n      location: {\n        lat: this.lat,\n        lng: this.lng\n      },\n      vicinity: this.vicinity\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/place.ts","export let NOTIFICATIONS = [\n  {\n    id: 1,\n    title: \"New price from Jan 2016\",\n    content: \"\",\n    createdAt: \"2016-02-14 12:00:00\",\n    read: true\n  },\n  {\n    id: 2,\n    title: \"New version 1.1.1\",\n    content: \"\",\n    createdAt: \"2016-02-13 12:00:00\",\n    read: false\n  },\n  {\n    id: 3,\n    title: \"New version 1.1.0\",\n    content: \"\",\n    createdAt: \"2016-02-12 12:00:00\",\n    read: false\n  }\n]\n\n\n// WEBPACK FOOTER //\n// ./src/services/mock-notifications.ts","var map = {\n\t\"./af\": 259,\n\t\"./af.js\": 259,\n\t\"./ar\": 260,\n\t\"./ar-dz\": 261,\n\t\"./ar-dz.js\": 261,\n\t\"./ar-kw\": 262,\n\t\"./ar-kw.js\": 262,\n\t\"./ar-ly\": 263,\n\t\"./ar-ly.js\": 263,\n\t\"./ar-ma\": 264,\n\t\"./ar-ma.js\": 264,\n\t\"./ar-sa\": 265,\n\t\"./ar-sa.js\": 265,\n\t\"./ar-tn\": 266,\n\t\"./ar-tn.js\": 266,\n\t\"./ar.js\": 260,\n\t\"./az\": 267,\n\t\"./az.js\": 267,\n\t\"./be\": 268,\n\t\"./be.js\": 268,\n\t\"./bg\": 269,\n\t\"./bg.js\": 269,\n\t\"./bm\": 270,\n\t\"./bm.js\": 270,\n\t\"./bn\": 271,\n\t\"./bn.js\": 271,\n\t\"./bo\": 272,\n\t\"./bo.js\": 272,\n\t\"./br\": 273,\n\t\"./br.js\": 273,\n\t\"./bs\": 274,\n\t\"./bs.js\": 274,\n\t\"./ca\": 275,\n\t\"./ca.js\": 275,\n\t\"./cs\": 276,\n\t\"./cs.js\": 276,\n\t\"./cv\": 277,\n\t\"./cv.js\": 277,\n\t\"./cy\": 278,\n\t\"./cy.js\": 278,\n\t\"./da\": 279,\n\t\"./da.js\": 279,\n\t\"./de\": 280,\n\t\"./de-at\": 281,\n\t\"./de-at.js\": 281,\n\t\"./de-ch\": 282,\n\t\"./de-ch.js\": 282,\n\t\"./de.js\": 280,\n\t\"./dv\": 283,\n\t\"./dv.js\": 283,\n\t\"./el\": 284,\n\t\"./el.js\": 284,\n\t\"./en-au\": 285,\n\t\"./en-au.js\": 285,\n\t\"./en-ca\": 286,\n\t\"./en-ca.js\": 286,\n\t\"./en-gb\": 287,\n\t\"./en-gb.js\": 287,\n\t\"./en-ie\": 288,\n\t\"./en-ie.js\": 288,\n\t\"./en-nz\": 289,\n\t\"./en-nz.js\": 289,\n\t\"./eo\": 290,\n\t\"./eo.js\": 290,\n\t\"./es\": 291,\n\t\"./es-do\": 292,\n\t\"./es-do.js\": 292,\n\t\"./es-us\": 293,\n\t\"./es-us.js\": 293,\n\t\"./es.js\": 291,\n\t\"./et\": 294,\n\t\"./et.js\": 294,\n\t\"./eu\": 295,\n\t\"./eu.js\": 295,\n\t\"./fa\": 296,\n\t\"./fa.js\": 296,\n\t\"./fi\": 297,\n\t\"./fi.js\": 297,\n\t\"./fo\": 298,\n\t\"./fo.js\": 298,\n\t\"./fr\": 299,\n\t\"./fr-ca\": 300,\n\t\"./fr-ca.js\": 300,\n\t\"./fr-ch\": 301,\n\t\"./fr-ch.js\": 301,\n\t\"./fr.js\": 299,\n\t\"./fy\": 302,\n\t\"./fy.js\": 302,\n\t\"./gd\": 303,\n\t\"./gd.js\": 303,\n\t\"./gl\": 304,\n\t\"./gl.js\": 304,\n\t\"./gom-latn\": 305,\n\t\"./gom-latn.js\": 305,\n\t\"./gu\": 306,\n\t\"./gu.js\": 306,\n\t\"./he\": 307,\n\t\"./he.js\": 307,\n\t\"./hi\": 308,\n\t\"./hi.js\": 308,\n\t\"./hr\": 309,\n\t\"./hr.js\": 309,\n\t\"./hu\": 310,\n\t\"./hu.js\": 310,\n\t\"./hy-am\": 311,\n\t\"./hy-am.js\": 311,\n\t\"./id\": 312,\n\t\"./id.js\": 312,\n\t\"./is\": 313,\n\t\"./is.js\": 313,\n\t\"./it\": 314,\n\t\"./it.js\": 314,\n\t\"./ja\": 315,\n\t\"./ja.js\": 315,\n\t\"./jv\": 316,\n\t\"./jv.js\": 316,\n\t\"./ka\": 317,\n\t\"./ka.js\": 317,\n\t\"./kk\": 318,\n\t\"./kk.js\": 318,\n\t\"./km\": 319,\n\t\"./km.js\": 319,\n\t\"./kn\": 320,\n\t\"./kn.js\": 320,\n\t\"./ko\": 321,\n\t\"./ko.js\": 321,\n\t\"./ky\": 322,\n\t\"./ky.js\": 322,\n\t\"./lb\": 323,\n\t\"./lb.js\": 323,\n\t\"./lo\": 324,\n\t\"./lo.js\": 324,\n\t\"./lt\": 325,\n\t\"./lt.js\": 325,\n\t\"./lv\": 326,\n\t\"./lv.js\": 326,\n\t\"./me\": 327,\n\t\"./me.js\": 327,\n\t\"./mi\": 328,\n\t\"./mi.js\": 328,\n\t\"./mk\": 329,\n\t\"./mk.js\": 329,\n\t\"./ml\": 330,\n\t\"./ml.js\": 330,\n\t\"./mr\": 331,\n\t\"./mr.js\": 331,\n\t\"./ms\": 332,\n\t\"./ms-my\": 333,\n\t\"./ms-my.js\": 333,\n\t\"./ms.js\": 332,\n\t\"./mt\": 334,\n\t\"./mt.js\": 334,\n\t\"./my\": 335,\n\t\"./my.js\": 335,\n\t\"./nb\": 336,\n\t\"./nb.js\": 336,\n\t\"./ne\": 337,\n\t\"./ne.js\": 337,\n\t\"./nl\": 338,\n\t\"./nl-be\": 339,\n\t\"./nl-be.js\": 339,\n\t\"./nl.js\": 338,\n\t\"./nn\": 340,\n\t\"./nn.js\": 340,\n\t\"./pa-in\": 341,\n\t\"./pa-in.js\": 341,\n\t\"./pl\": 342,\n\t\"./pl.js\": 342,\n\t\"./pt\": 343,\n\t\"./pt-br\": 344,\n\t\"./pt-br.js\": 344,\n\t\"./pt.js\": 343,\n\t\"./ro\": 345,\n\t\"./ro.js\": 345,\n\t\"./ru\": 346,\n\t\"./ru.js\": 346,\n\t\"./sd\": 347,\n\t\"./sd.js\": 347,\n\t\"./se\": 348,\n\t\"./se.js\": 348,\n\t\"./si\": 349,\n\t\"./si.js\": 349,\n\t\"./sk\": 350,\n\t\"./sk.js\": 350,\n\t\"./sl\": 351,\n\t\"./sl.js\": 351,\n\t\"./sq\": 352,\n\t\"./sq.js\": 352,\n\t\"./sr\": 353,\n\t\"./sr-cyrl\": 354,\n\t\"./sr-cyrl.js\": 354,\n\t\"./sr.js\": 353,\n\t\"./ss\": 355,\n\t\"./ss.js\": 355,\n\t\"./sv\": 356,\n\t\"./sv.js\": 356,\n\t\"./sw\": 357,\n\t\"./sw.js\": 357,\n\t\"./ta\": 358,\n\t\"./ta.js\": 358,\n\t\"./te\": 359,\n\t\"./te.js\": 359,\n\t\"./tet\": 360,\n\t\"./tet.js\": 360,\n\t\"./th\": 361,\n\t\"./th.js\": 361,\n\t\"./tl-ph\": 362,\n\t\"./tl-ph.js\": 362,\n\t\"./tlh\": 363,\n\t\"./tlh.js\": 363,\n\t\"./tr\": 364,\n\t\"./tr.js\": 364,\n\t\"./tzl\": 365,\n\t\"./tzl.js\": 365,\n\t\"./tzm\": 366,\n\t\"./tzm-latn\": 367,\n\t\"./tzm-latn.js\": 367,\n\t\"./tzm.js\": 366,\n\t\"./uk\": 368,\n\t\"./uk.js\": 368,\n\t\"./ur\": 369,\n\t\"./ur.js\": 369,\n\t\"./uz\": 370,\n\t\"./uz-latn\": 371,\n\t\"./uz-latn.js\": 371,\n\t\"./uz.js\": 370,\n\t\"./vi\": 372,\n\t\"./vi.js\": 372,\n\t\"./x-pseudo\": 373,\n\t\"./x-pseudo.js\": 373,\n\t\"./yo\": 374,\n\t\"./yo.js\": 374,\n\t\"./zh-cn\": 375,\n\t\"./zh-cn.js\": 375,\n\t\"./zh-hk\": 376,\n\t\"./zh-hk.js\": 376,\n\t\"./zh-tw\": 377,\n\t\"./zh-tw.js\": 377\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 508;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 508\n// module chunks = 0","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\n/*\n Generated class for the ProfilePage page.\n\n See http://ionicframework.com/docs/v2/components/#navigation for more info on\n Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-profile',\n  templateUrl: 'profile.html'\n})\nexport class ProfilePage {\n  constructor(public nav: NavController) {\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts","import { Injectable } from \"@angular/core\";\nimport { Http } from \"@angular/http\";\nimport { Storage } from \"@ionic/storage\";\n\nimport 'rxjs/add/operator/map'\n\n@Injectable()\nexport class PlaceService {\n  private baseUrl = 'https://maps.googleapis.com/maps/api/';\n  private apiKey = 'AIzaSyA7MNmGM6-bW6QugXONZWdKZs8Y9eViI7E';\n  private locality: any;\n\n  constructor(public http: Http, public storage: Storage) {\n\n  }\n\n  // search by address\n  searchByAddress(address, lat, lng) {\n    let url = this.baseUrl + 'place/nearbysearch/json?key=' + this.apiKey\n        + '&keyword=' + encodeURI(address)\n        + '&location=' + lat + ',' + lng\n        + '&radius=50000';\n    return this.http.get(url).map(res => res.json())\n  }\n\n  // get direction between to points\n  getDirection(lat1, lon1, lat2, lon2) {\n    let url = this.baseUrl + 'directions/json?'\n        + 'origin=' + lat1 + ',' + lon1\n        + '&destination=' + lat2 + ',' + lon2;\n\n    return this.http.get(url).map(res => res.json());\n  }\n\n  //This function takes in latitude and longitude of two location and returns the distance between them as the crow flies (in km)\n  calcCrow(lat1, lon1, lat2, lon2) {\n    let R = 6371; // km\n    let dLat = this.toRad(lat2 - lat1);\n    let dLon = this.toRad(lon2 - lon1);\n    lat1 = this.toRad(lat1);\n    lat2 = this.toRad(lat2);\n\n    let a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n        Math.sin(dLon / 2) * Math.sin(dLon / 2) * Math.cos(lat1) * Math.cos(lat2);\n    let c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    let d = R * c;\n\n    return d;\n  }\n\n  // Converts numeric degrees to radians\n  toRad(value) {\n    return value * Math.PI / 180;\n  }\n\n  /**\n   * Convert geocoder address to place object\n   * @param address: Geocoder address result\n   * @returns {{location: {lat: any, lng: any}, vicinity: string}}\n   */\n  formatAddress(address) {\n    console.log(address);\n    let components = address.address_components;\n    let vicinity = components[0].short_name + ', ' + components[1].short_name;\n\n    return {\n      location: {\n        lat: address.geometry.location.lat(),\n        lng: address.geometry.location.lng()\n      },\n      vicinity: vicinity\n    }\n  }\n\n  // set locality from geocoder result\n  // @param results: Geocoder array results\n  setLocalityFromGeocoder(results) {\n    let component;\n    let address;\n\n    for (let i = 0; i < results.length; i++) {\n      address = results[i];\n      for (let j = 0; j < address.address_components.length; j++) {\n        component = address.address_components[j];\n\n        // if (component.types[0] == 'administrative_area_level_2') {\n        if (component.types[0] == 'locality') {\n          // escape firebase characters\n          let locality = component.short_name.replace(/[\\%\\.\\#\\$\\/\\[\\]]/, '_');\n          this.setLocality(locality);\n\n          return locality;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  setLocality(locality) {\n    return this.locality = locality;\n  }\n\n  getLocality() {\n    return this.locality;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/place-service.ts","export let SHOW_VEHICLES_WITHIN = 5; // within 5km\nexport let POSITION_INTERVAL = 10000; // 2000ms\nexport let VEHICLE_LAST_ACTIVE_LIMIT = 30000; // 30s\n\nexport let DEAL_STATUS_PENDING = 'pending';\nexport let DEAL_STATUS_ACCEPTED = 'accepted';\nexport let DEAL_TIMEOUT = 20000; // 20s\n\nexport let TRIP_STATUS_GOING = 'going';\nexport let TRIP_STATUS_FINISHED = 'finished';\n\nexport let DEFAULT_AVATAR = 'https://freeiconshop.com/wp-content/uploads/edd/person-outline-filled.png';\n/*\n trip status: waiting, going, finished\n\n */\n\n\n// WEBPACK FOOTER //\n// ./src/services/constants.ts","import { Injectable } from '@angular/core';\nimport { AngularFireDatabase } from 'angularfire2/database/database';\nimport { AuthService } from './auth-service';\nimport { DriverService } from './driver-service';\n\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/combineLatest';\nimport 'rxjs/add/operator/mergeMap';\nimport 'rxjs/add/operator/reduce';\nimport 'rxjs/add/observable/of';\n\n@Injectable()\nexport class ChatService {\n  defaultSkipInterval: number = 7;\n\n  constructor(\n    public db: AngularFireDatabase,\n    public authService: AuthService,\n    public driverService: DriverService\n  ) {\n\n  }\n\n  sendMessage(driverId, text) {\n    let user = this.authService.getUserData();\n    this.db.object('chats/' + user.uid + '_' + driverId).take(1).subscribe(snapshot => {\n      if (snapshot.$value === null) {\n        this.db.object('chats/' + user.uid + '_' + driverId).update({\n          passengerId: user.uid,\n          driverId: driverId,\n          isPassengerTyping : false,\n          isDriverTyping : false\n        }).then(_ => {\n          this.addMessageToChatObject(user.uid, driverId, text);\n        })\n      }\n      else this.addMessageToChatObject(user.uid, driverId, text);\n    });\n  }\n\n  readMessages(driverId) {\n    let user = this.authService.getUserData();\n    let messages = this.db.list('chats/' + user.uid + '_' + driverId + '/messages');\n    return messages.subscribe(snapshots => {\n      snapshots.forEach(snapshot => {\n        if (!snapshot.fromPassenger)\n          messages.update(snapshot, { isRead: true });\n      });\n    })\n  }\n\n  checkTypingMessageStatus(driverId) {\n    let user = this.authService.getUserData();\n    return this.db.object('chats/' + user.uid + '_' + driverId).map(message => {\n      return message.isDriverTyping;\n    });\n  }\n\n  startTypingMessage(driverId) {\n    let user = this.authService.getUserData();\n    this.db.object('chats/' + user.uid + '_' + driverId).take(1).subscribe(snapshot => {\n      if (snapshot.$value !== null) {\n        this.db.object('chats/' + user.uid + '_' + driverId).update({\n          isPassengerTyping : true\n        })\n      }\n    })\n  }\n\n  stopTypingMessage(driverId) {\n    let user = this.authService.getUserData();\n    this.db.object('chats/' + user.uid + '_' + driverId).take(1).subscribe(snapshot => {\n      if (snapshot.$value !== null) {\n        this.db.object('chats/' + user.uid + '_' + driverId).update({\n          isPassengerTyping : false\n        })\n      }\n    })\n  }\n\n  getMessages(driverId, skipInterval?) {\n    let intervals = skipInterval ? [-(skipInterval + this.defaultSkipInterval), -skipInterval] :\n        [-this.defaultSkipInterval];\n    let user = this.authService.getUserData();\n    return this.db.list('chats/' + user.uid + '_' + driverId + '/messages').map(messages => {\n      return messages.map(message => {\n        if (message.fromPassenger) {\n          message.photo = user.photoURL;\n          message.name = user.displayName;\n        };\n        if (!message.text.startsWith(\"<img src='\") && !message.text.startsWith('<p>'))\n          message.text = '<p>'+message.text+'</p>';\n        return message;\n      }).sort((a,b) => {\n        return a.createdAt - b.createdAt;\n      }).slice(...intervals)\n    })\n  }\n\n  getHistory() {\n    let user = this.authService.getUserData();\n    return this.db.list('chats', {\n      query: {\n        orderByChild: 'passengerId',\n        equalTo: user.uid\n      }\n    }).map(chats => {\n      return chats.map(chat => {\n        let messages = (<any>Object).keys(chat.messages).map(key => {\n          return chat.messages[key];\n        });\n        let lastMessage = messages.sort((a,b) => {\n          return b.createdAt - a.createdAt;\n        })[0];\n        let unreadMessages = messages.filter(message => {\n          return !message.isRead && !message.fromPassenger;\n        });\n        return {\n          text: lastMessage.text.startsWith(\"<img src='\") ? 'image' : lastMessage.text,\n          date: lastMessage.createdAt,\n          count: unreadMessages.length,\n          driverId: chat.driverId\n        }\n      })\n    }).mergeMap(historyData => {\n      if (historyData.length) return Observable.combineLatest(\n        historyData.map(historyItem => {\n          return this.driverService.getDriver(historyItem.driverId).map(driver => {\n            historyItem.name = driver.name;\n            historyItem.photo = driver.photoURL;\n            return historyItem;   \n          })\n        })\n      )\n      else return Observable.of([]);\n    })\n  }\n\n  getUnreadMessages() {\n    let user = this.authService.getUserData();\n    return this.db.list('chats', {\n      query: {\n        orderByChild: 'passengerId',\n        equalTo: user.uid\n      }\n    }).map(chats => {\n      return chats.map(chat => {\n        if (chat.messages) {\n          let messages = (<any>Object).keys(chat.messages).map(key => {\n            return chat.messages[key];\n          });\n          let unreadMessages = messages.filter(message => {\n            return !message.isRead && !message.fromPassenger;\n          });\n          return unreadMessages.length;\n        }\n        else return 0;\n      }).reduce((acc, x) => {\n        return acc + x;\n      }, 0)\n    })\n  }\n\n  addMessageToChatObject(passengerId, driverId, text) {\n    this.db.list('chats/' + passengerId + '_' + driverId + '/messages').push({\n      fromPassenger: true,\n      isRead : false,\n      text: text,\n      createdAt : Date.now()\n    })\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/chat-service.ts"],"sourceRoot":""}